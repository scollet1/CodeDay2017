
<html>
  <head>
    <title>Levels</title>
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="js/build.js"></script>
    
    <script src="js/audioanalyser-levels-scale.js"></script>
    <script src="js/scale-y-color.js"></script>
  </head>
  <body>
    <a-scene antialias="true">
      <a-assets>
	      	<a-mixin id="dancer" geometry="primitive: sphere; radius: 0.2" material="color: #C03546"
		         scale-y-color="from: 10 10 50; to: 210, 220, 250; maxScale: 15" 
		         random-spherical-position="lengthX: 180; lengthY: 180; radius: 10">
        	</a-mixin>
        	<a-mixin id="random-1"
                 	 random-spherical-position="lengthX: 180; lengthY: 180; radius: 10">
	      	</a-mixin>
        <audio id="song" autoplay loop src="soundcloud/KPJ3.wav"></audio>
      </a-assets>

      <a-entity
	entity-generator="mixin: random-1 red dancer; num: 256"
        audioanalyser="src: #song; smoothingTimeConstant: 0.9"
        audioanalyser-levels-scale="max: 50; multiplier: 0.06"
	audioanalyser-waveform="radius: 360"
	layout="type: circle; radius: 10"
	color-on-beat="src: #song"
	ring-on-beat="src: #song"
        rotation="0 0 0"
	look-at="[camera]">
	<a-animation attribute="rotation" repeat="indefinite" easing="linear"
                     dur="128000" to="0 360 0"></a-animation>
	</a-entity>

      <a-light type="ambient" color="#222"></a-light>
      <a-light type="point" position="0 1 0" intensity="2"></a-light>
      <a-sky color="#222"></a-sky>
    </a-scene>
  </body>
</html>

<!-- 
  Comment all the gosh darn stuff
 -->
